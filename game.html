<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.65">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #5a5a5a; -webkit-text-stroke: #5a5a5a}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #570002; -webkit-text-stroke: #570002}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #f6000b; -webkit-text-stroke: #f6000b}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #0000ff; -webkit-text-stroke: #0000ff}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #000000; -webkit-text-stroke: #000000}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #3c3f43; -webkit-text-stroke: #3c3f43}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #000000; -webkit-text-stroke: #000000; min-height: 16.0px}
    span.s1 {font-kerning: none; background-color: #e7edf5}
    span.s2 {font-kerning: none; color: #f6000b; background-color: #e7edf5; -webkit-text-stroke: 0px #f6000b}
    span.s3 {font-kerning: none; color: #1f1f1f; background-color: #e7edf5; -webkit-text-stroke: 0px #1f1f1f}
    span.s4 {font-kerning: none; color: #000000; background-color: #e7edf5; -webkit-text-stroke: 0px #000000}
    span.s5 {font-kerning: none; color: #0000ff; background-color: #e7edf5; -webkit-text-stroke: 0px #0000ff}
    span.s6 {font-kerning: none; color: #570002; background-color: #e7edf5; -webkit-text-stroke: 0px #570002}
    span.s7 {font-kerning: none; color: #156536; background-color: #e7edf5; -webkit-text-stroke: 0px #156536}
    span.s8 {font-kerning: none; color: #0b2981; background-color: #e7edf5; -webkit-text-stroke: 0px #0b2981}
    span.s9 {font-kerning: none; color: #175f20; background-color: #e7edf5; -webkit-text-stroke: 0px #175f20}
    span.s10 {font-kerning: none}
    span.s11 {font-kerning: none; color: #5a00b6; background-color: #e7edf5; -webkit-text-stroke: 0px #5a00b6}
    span.s12 {font-kerning: none; color: #125c5a; background-color: #e7edf5; -webkit-text-stroke: 0px #125c5a}
    span.s13 {font-kerning: none; color: #91330c; background-color: #e7edf5; -webkit-text-stroke: 0px #91330c}
    span.s14 {font-kerning: none; color: #3c3f43; background-color: #e7edf5; -webkit-text-stroke: 0px #3c3f43}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Decline Runner</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s7">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s7">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s8">flex</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s8">center</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s8">center</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s7">100vh</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#f0f0f0</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s9">'Arial'</span><span class="s1">, </span><span class="s8">sans-serif</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#game-container</span><span class="s4"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s8">relative</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s7">2px</span><span class="s1"> </span><span class="s8">solid</span><span class="s1"> </span><span class="s8">#333</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s7">0</span><span class="s1"> </span><span class="s7">0</span><span class="s1"> </span><span class="s7">15px</span><span class="s1"> </span><span class="s8">rgba(</span><span class="s7">0</span><span class="s1">,</span><span class="s7">0</span><span class="s1">,</span><span class="s7">0</span><span class="s1">,</span><span class="s7">0.2</span><span class="s8">)</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">canvas</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s8">block</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s8">#fff</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">#ui-layer</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s8">absolute</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s7">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s7">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s7">100%</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s7">100%</span><span class="s1">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">pointer-events:</span><span class="s4"> </span><span class="s8">none</span><span class="s4">; </span><span class="s1">/* Allows clicks to go through to the canvas if needed */</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s8">flex</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s8">column</span><span class="s4">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s8">center</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s8">center</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s8">#333</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s1"> </span><span class="s8">center</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.hidden</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s8">none</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">h1</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s7">3rem</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s7">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">p</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s7">1.2rem</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s7">10px</span><span class="s1"> </span><span class="s7">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#score-display</span><span class="s4"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s8">absolute</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s7">10px</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s7">10px</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s7">1.5rem</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s1"> </span><span class="s8">left</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"game-container"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">canvas</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"gameCanvas"</span><span class="s4"> </span><span class="s2">width</span><span class="s3">=</span><span class="s1">"800"</span><span class="s4"> </span><span class="s2">height</span><span class="s3">=</span><span class="s1">"600"</span><span class="s3">&gt;&lt;/</span><span class="s6">canvas</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"ui-layer"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Menu Screen --&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"menu-screen"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s3">&gt;</span><span class="s1">Decline Runner</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s3">&gt;</span><span class="s1">Press ENTER to Start</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"menu-high-score"</span><span class="s3">&gt;</span><span class="s1">High Score: 0</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Game Over Screen --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"game-over-screen"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hidden"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s3">&gt;</span><span class="s1">Game Over</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"final-score"</span><span class="s3">&gt;</span><span class="s1">Your Score: 0</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"game-over-high-score"</span><span class="s3">&gt;</span><span class="s1">High Score: 0</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s3">&gt;</span><span class="s1">Press ENTER to Restart</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">             </span></span><span class="s1">&lt;!-- Score Display during gameplay --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"score-display"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hidden"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s3">&gt;</span><span class="s1">Score: </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"current-score"</span><span class="s3">&gt;</span><span class="s1">0</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s3">&gt;</span><span class="s1">High Score: </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"gameplay-high-score"</span><span class="s3">&gt;</span><span class="s1">0</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> canvas = document.getElementById(</span><span class="s9">'gameCanvas'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> ctx = canvas.getContext(</span><span class="s9">'2d'</span><span class="s1">);</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// UI Elements</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> menuScreen = document.getElementById(</span><span class="s9">'menu-screen'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> gameOverScreen = document.getElementById(</span><span class="s9">'game-over-screen'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> scoreDisplay = document.getElementById(</span><span class="s9">'score-display'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> menuHighScore = document.getElementById(</span><span class="s9">'menu-high-score'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> gameOverHighScore = document.getElementById(</span><span class="s9">'game-over-high-score'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> gameplayHighScore = document.getElementById(</span><span class="s9">'gameplay-high-score'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> finalScore = document.getElementById(</span><span class="s9">'final-score'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> currentScoreSpan = document.getElementById(</span><span class="s9">'current-score'</span><span class="s1">);</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">class</span><span class="s1"> </span><span class="s12">Obstacle</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">constructor</span><span class="s1">(x, y) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.x = x;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.y = y;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.shapeType = [</span><span class="s9">'square'</span><span class="s1">, </span><span class="s9">'rectangle'</span><span class="s1">, </span><span class="s9">'triangle'</span><span class="s1">][</span><span class="s12">Math</span><span class="s1">.floor(</span><span class="s12">Math</span><span class="s1">.random() * </span><span class="s13">3</span><span class="s1">)];</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">let</span><span class="s1"> size, width, height;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">switch</span><span class="s1"> (</span><span class="s11">this</span><span class="s1">.shapeType) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">case</span><span class="s1"> </span><span class="s9">'square'</span><span class="s1">:</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>size = </span><span class="s13">30</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">this</span><span class="s1">.width = size;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">this</span><span class="s1">.height = size;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">break</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">case</span><span class="s1"> </span><span class="s9">'rectangle'</span><span class="s1">:</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>width = </span><span class="s13">45</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>height = </span><span class="s13">25</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">this</span><span class="s1">.width = width;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">this</span><span class="s1">.height = height;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">break</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">case</span><span class="s1"> </span><span class="s9">'triangle'</span><span class="s1">:</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>size = </span><span class="s13">35</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">this</span><span class="s1">.width = size;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">this</span><span class="s1">.height = size;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">break</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>draw() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>ctx.fillStyle = </span><span class="s9">'#ff3232'</span><span class="s1">; </span><span class="s14">// Red</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (</span><span class="s11">this</span><span class="s1">.shapeType === </span><span class="s9">'square'</span><span class="s1"> || </span><span class="s11">this</span><span class="s1">.shapeType === </span><span class="s9">'rectangle'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.fillRect(</span><span class="s11">this</span><span class="s1">.x, </span><span class="s11">this</span><span class="s1">.y - </span><span class="s11">this</span><span class="s1">.height, </span><span class="s11">this</span><span class="s1">.width, </span><span class="s11">this</span><span class="s1">.height);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> (</span><span class="s11">this</span><span class="s1">.shapeType === </span><span class="s9">'triangle'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.beginPath();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.moveTo(</span><span class="s11">this</span><span class="s1">.x, </span><span class="s11">this</span><span class="s1">.y - </span><span class="s11">this</span><span class="s1">.height); </span><span class="s14">// Top point</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.lineTo(</span><span class="s11">this</span><span class="s1">.x + </span><span class="s11">this</span><span class="s1">.width, </span><span class="s11">this</span><span class="s1">.y); </span><span class="s14">// Bottom right</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.lineTo(</span><span class="s11">this</span><span class="s1">.x, </span><span class="s11">this</span><span class="s1">.y); </span><span class="s14">// Bottom left</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.closePath();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.fill();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">class</span><span class="s1"> </span><span class="s12">Game</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">constructor</span><span class="s1">() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.width = canvas.width;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.height = canvas.height;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// Game settings</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.slopeAngle = </span><span class="s12">Math</span><span class="s1">.atan(</span><span class="s13">0.25</span><span class="s1">); </span><span class="s14">// ~14 degrees</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.groundYStart = </span><span class="s13">100</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.baseScrollSpeed = </span><span class="s13">3</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.maxScrollSpeed = </span><span class="s13">8</span><span class="s1">;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Player properties</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.playerRadius = </span><span class="s13">20</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.gravity = </span><span class="s13">0.5</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.jumpStrength = -</span><span class="s13">12</span><span class="s1">;</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Obstacle properties</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.obstacleGap = </span><span class="s13">350</span><span class="s1">;</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.highScore = </span><span class="s11">this</span><span class="s1">.loadHighScore();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.gameState = </span><span class="s9">'menu'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.init();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>init() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.playerX = </span><span class="s13">100</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.playerY = </span><span class="s11">this</span><span class="s1">.getGroundY(</span><span class="s11">this</span><span class="s1">.playerX);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.playerVelY = </span><span class="s13">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.onGround = </span><span class="s11">true</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.score = </span><span class="s13">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.scrollSpeed = </span><span class="s11">this</span><span class="s1">.baseScrollSpeed;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.obstacles = [];</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">let</span><span class="s1"> lastX = </span><span class="s11">this</span><span class="s1">.width;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s1"> (</span><span class="s11">let</span><span class="s1"> i = </span><span class="s13">0</span><span class="s1">; i &lt; </span><span class="s13">5</span><span class="s1">; i++) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> spawnX = lastX + </span><span class="s11">this</span><span class="s1">.obstacleGap + </span><span class="s12">Math</span><span class="s1">.random() * </span><span class="s13">400</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> spawnY = </span><span class="s11">this</span><span class="s1">.getGroundY(spawnX);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s1">.obstacles.push(</span><span class="s11">new</span><span class="s1"> </span><span class="s12">Obstacle</span><span class="s1">(spawnX, spawnY));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>lastX = spawnX;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.updateUI();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>getGroundY(xPos) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s1"> </span><span class="s11">this</span><span class="s1">.groundYStart + xPos * </span><span class="s12">Math</span><span class="s1">.tan(</span><span class="s11">this</span><span class="s1">.slopeAngle);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>loadHighScore() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s1"> parseInt(localStorage.getItem(</span><span class="s9">'declineRunnerHighScore'</span><span class="s1">)) || </span><span class="s13">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>saveHighScore() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>localStorage.setItem(</span><span class="s9">'declineRunnerHighScore'</span><span class="s1">, </span><span class="s11">this</span><span class="s1">.highScore);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>start() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.gameState = </span><span class="s9">'playing'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.init();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>gameLoop();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>update() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (</span><span class="s11">this</span><span class="s1">.gameState !== </span><span class="s9">'playing'</span><span class="s1">) </span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Difficulty Scaling</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.scrollSpeed = </span><span class="s12">Math</span><span class="s1">.min(</span><span class="s11">this</span><span class="s1">.maxScrollSpeed, </span><span class="s11">this</span><span class="s1">.baseScrollSpeed + </span><span class="s11">this</span><span class="s1">.score / </span><span class="s13">5</span><span class="s1">);</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Player Physics</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.playerVelY += </span><span class="s11">this</span><span class="s1">.gravity;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.playerY += </span><span class="s11">this</span><span class="s1">.playerVelY;</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> groundY = </span><span class="s11">this</span><span class="s1">.getGroundY(</span><span class="s11">this</span><span class="s1">.playerX);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (</span><span class="s11">this</span><span class="s1">.playerY &gt;= groundY - </span><span class="s11">this</span><span class="s1">.playerRadius) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s1">.playerY = groundY - </span><span class="s11">this</span><span class="s1">.playerRadius;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s1">.playerVelY = </span><span class="s13">0</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s1">.onGround = </span><span class="s11">true</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Obstacle Update</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.obstacles.forEach(obstacle =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>obstacle.x -= </span><span class="s11">this</span><span class="s1">.scrollSpeed;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (</span><span class="s11">this</span><span class="s1">.obstacles[</span><span class="s13">0</span><span class="s1">].x + </span><span class="s11">this</span><span class="s1">.obstacles[</span><span class="s13">0</span><span class="s1">].width &lt; </span><span class="s13">0</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s1">.obstacles.shift();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> lastX = </span><span class="s11">this</span><span class="s1">.obstacles[</span><span class="s11">this</span><span class="s1">.obstacles.length - </span><span class="s13">1</span><span class="s1">].x;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> spawnX = lastX + </span><span class="s11">this</span><span class="s1">.obstacleGap + </span><span class="s12">Math</span><span class="s1">.random() * </span><span class="s13">400</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> spawnY = </span><span class="s11">this</span><span class="s1">.getGroundY(spawnX);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s1">.obstacles.push(</span><span class="s11">new</span><span class="s1"> </span><span class="s12">Obstacle</span><span class="s1">(spawnX, spawnY));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s1">.score++;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Collision Detection</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> playerRect = {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>x: </span><span class="s11">this</span><span class="s1">.playerX - </span><span class="s11">this</span><span class="s1">.playerRadius,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>y: </span><span class="s11">this</span><span class="s1">.playerY - </span><span class="s11">this</span><span class="s1">.playerRadius,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>width: </span><span class="s11">this</span><span class="s1">.playerRadius * </span><span class="s13">2</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>height: </span><span class="s11">this</span><span class="s1">.playerRadius * </span><span class="s13">2</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>};</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s1"> (</span><span class="s11">const</span><span class="s1"> obstacle </span><span class="s11">of</span><span class="s1"> </span><span class="s11">this</span><span class="s1">.obstacles) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> obsRect = {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>x: obstacle.x,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>y: obstacle.y - obstacle.height,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>width: obstacle.width,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>height: obstacle.height</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>};</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> (playerRect.x &lt; obsRect.x + obsRect.width &amp;&amp;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>playerRect.x + playerRect.width &gt; obsRect.x &amp;&amp;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>playerRect.y &lt; obsRect.y + obsRect.height &amp;&amp;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>playerRect.y + playerRect.height &gt; obsRect.y) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">this</span><span class="s1">.gameState = </span><span class="s9">'gameOver'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">if</span><span class="s1"> (</span><span class="s11">this</span><span class="s1">.score &gt; </span><span class="s11">this</span><span class="s1">.highScore) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s11">this</span><span class="s1">.highScore = </span><span class="s11">this</span><span class="s1">.score;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s11">this</span><span class="s1">.saveHighScore();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.updateUI();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>draw() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>ctx.clearRect(</span><span class="s13">0</span><span class="s1">, </span><span class="s13">0</span><span class="s1">, </span><span class="s11">this</span><span class="s1">.width, </span><span class="s11">this</span><span class="s1">.height);</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// Draw Platform</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>ctx.strokeStyle = </span><span class="s9">'#333'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>ctx.lineWidth = </span><span class="s13">2</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>ctx.beginPath();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>ctx.moveTo(</span><span class="s13">0</span><span class="s1">, </span><span class="s11">this</span><span class="s1">.getGroundY(</span><span class="s13">0</span><span class="s1">));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>ctx.lineTo(</span><span class="s11">this</span><span class="s1">.width, </span><span class="s11">this</span><span class="s1">.getGroundY(</span><span class="s11">this</span><span class="s1">.width));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>ctx.stroke();</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// Draw Player</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>ctx.fillStyle = </span><span class="s9">'#0064ff'</span><span class="s1">; </span><span class="s14">// Blue</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>ctx.beginPath();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>ctx.arc(</span><span class="s11">this</span><span class="s1">.playerX, </span><span class="s11">this</span><span class="s1">.playerY, </span><span class="s11">this</span><span class="s1">.playerRadius, </span><span class="s13">0</span><span class="s1">, </span><span class="s12">Math</span><span class="s1">.</span><span class="s12">PI</span><span class="s1"> * </span><span class="s13">2</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>ctx.fill();</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Draw Obstacles</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">this</span><span class="s1">.obstacles.forEach(obstacle =&gt; obstacle.draw());</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>updateUI() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (</span><span class="s11">this</span><span class="s1">.gameState === </span><span class="s9">'menu'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>menuScreen.classList.remove(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>gameOverScreen.classList.add(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>scoreDisplay.classList.add(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>menuHighScore.textContent = </span><span class="s9">`High Score: </span><span class="s1">${</span><span class="s11">this</span><span class="s1">.highScore}</span><span class="s9">`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> (</span><span class="s11">this</span><span class="s1">.gameState === </span><span class="s9">'playing'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>menuScreen.classList.add(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>gameOverScreen.classList.add(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>scoreDisplay.classList.remove(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>currentScoreSpan.textContent = </span><span class="s11">this</span><span class="s1">.score;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>gameplayHighScore.textContent = </span><span class="s11">this</span><span class="s1">.highScore;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> (</span><span class="s11">this</span><span class="s1">.gameState === </span><span class="s9">'gameOver'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>menuScreen.classList.add(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>gameOverScreen.classList.remove(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>scoreDisplay.classList.add(</span><span class="s9">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>finalScore.textContent = </span><span class="s9">`Your Score: </span><span class="s1">${</span><span class="s11">this</span><span class="s1">.score}</span><span class="s9">`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>gameOverHighScore.textContent = </span><span class="s9">`High Score: </span><span class="s1">${</span><span class="s11">this</span><span class="s1">.highScore}</span><span class="s9">`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> game = </span><span class="s11">new</span><span class="s1"> </span><span class="s12">Game</span><span class="s1">();</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> gameLoop() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (game.gameState === </span><span class="s9">'playing'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>game.update();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>game.draw();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>requestAnimationFrame(gameLoop);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s11">else</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>game.updateUI();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>window.addEventListener(</span><span class="s9">'keydown'</span><span class="s1">, (e) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> (game.gameState === </span><span class="s9">'playing'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (e.code === </span><span class="s9">'Space'</span><span class="s1"> &amp;&amp; game.onGround) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>game.playerVelY = game.jumpStrength;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>game.onGround = </span><span class="s11">false</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>} </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> (game.gameState === </span><span class="s9">'menu'</span><span class="s1"> || game.gameState === </span><span class="s9">'gameOver'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (e.code === </span><span class="s9">'Enter'</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>game.start();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Initial render</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>game.updateUI();</span></p>
<p class="p5"><span class="s10"><br>
</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
